{"version":3,"sources":["webpack:///./node_modules/babel-runtime/core-js/json/stringify.js","webpack:///./node_modules/core-js/library/fn/json/stringify.js","webpack:///src/pages/Search.vue","webpack:///./src/pages/Search.vue?b449","webpack:///./src/pages/Search.vue"],"names":["module","exports","default","__webpack_require__","__esModule","core","$JSON","JSON","stringify","it","apply","arguments","Search","components","post","data","searchStr","resultList","historyList","localStorage","getItem","parse","hotList","watch","this","console","log","setItem","stringify_default","methods","searchByWord","item","search","getHotList","back","$router","_this","$axios","url","method","params","keyword","then","res","indexOf","push","mounted","pages_Search","render","_vm","_h","$createElement","_c","_self","staticClass","on","click","_v","directives","name","rawName","value","expression","attrs","placeholder","type","domProps","input","$event","target","composing","length","_l","index","key","_s","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/6.45ac72feb8aa00e54adb.js","sourcesContent":["module.exports = { \"default\": require(\"core-js/library/fn/json/stringify\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/json/stringify.js\n// module id = mvHQ\n// module chunks = 5 6","var core = require('../../modules/_core');\nvar $JSON = core.JSON || (core.JSON = { stringify: JSON.stringify });\nmodule.exports = function stringify(it) { // eslint-disable-line no-unused-vars\n  return $JSON.stringify.apply($JSON, arguments);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/json/stringify.js\n// module id = qkKv\n// module chunks = 5 6","<template>\r\n  <div>\r\n    <div class=\"search\">\r\n      <span @click=\"back\" class=\"iconfont iconjiantou2\"></span>\r\n      <div class=\"searchText\">\r\n        <span class=\"iconfont iconsearch\"></span>\r\n        <input class=\"searchInput\" placeholder=\"请输入搜索内容\" type=\"text\" v-model=\"searchStr\" />\r\n      </div>\r\n      <div @click=\"search\" class=\"btn\">搜索</div>\r\n    </div>\r\n    <!-- 渲染内容 -->\r\n    <div v-if=\"resultList.length>0\">\r\n      <post :key=\"index\" :post=\"post\" v-for=\"(post,index) in resultList\"></post>\r\n    </div>\r\n    <div class=\"content\" v-else>\r\n      <div class=\"history\">\r\n        <h3 class=\"title\">历史记录</h3>\r\n        <span\r\n          :key=\"index\"\r\n          @click=\"searchByWord(item)\"\r\n          v-for=\"(item,index) in historyList\"\r\n        >{{item}}&nbsp;</span>\r\n      </div>\r\n      <div class=\"hot\">\r\n        <h3 class=\"title\">热门搜索</h3>\r\n        <span\r\n          :key=\"index\"\r\n          @click=\"searchByWord(item)\"\r\n          v-for=\"(item,index) in hotList\"\r\n        >{{item}}&nbsp;</span>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport post from '@/components/post'\r\n\r\nexport default {\r\n  components: {\r\n    post\r\n  },\r\n  data() {\r\n    return {\r\n      searchStr: '',\r\n      resultList: [],\r\n      historyList: localStorage.getItem('historyList')\r\n        ? JSON.parse(localStorage.getItem('historyList'))\r\n        : [],\r\n      hotList: []\r\n    }\r\n  },\r\n  watch: {\r\n    searchStr() {\r\n      if (this.searchStr == '') {\r\n        // 清空搜索框显示历史记录和热门搜索\r\n        this.resultList = []\r\n        console.log(this.historyList)\r\n      }\r\n    },\r\n    historyList() {\r\n      localStorage.setItem('historyList', JSON.stringify(this.historyList))\r\n      console.log(this.historyList)\r\n    }\r\n  },\r\n  methods: {\r\n    searchByWord(item) {\r\n      this.searchStr = item\r\n      this.search()\r\n    },\r\n    getHotList() {\r\n      this.hotList = ['关晓彤', '女歌手', '王祖贤']\r\n    },\r\n    back() {\r\n      if (this.searchStr) {\r\n        this.searchStr = ''\r\n      } else {\r\n        this.$router.back()\r\n      }\r\n    },\r\n    search() {\r\n      this.$axios({\r\n        url: '/post_search',\r\n        method: 'get',\r\n        params: {\r\n          keyword: this.searchStr\r\n        }\r\n      }).then(res => {\r\n        const { data } = res.data\r\n        this.resultList = data\r\n        if (this.historyList.indexOf(this.searchStr) < 0) {\r\n          this.historyList.push(this.searchStr)\r\n        }\r\n      })\r\n    }\r\n  },\r\n  mounted() {\r\n    this.getHotList()\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.search {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 2.778vw;\r\n  .searchText {\r\n    height: 8.333vw;\r\n    border-radius: 4.167vw;\r\n    padding: 0 2.778vw;\r\n    border: 1px solid #ccc;\r\n    .searchInput {\r\n      height: 100%;\r\n      width: 55.556vw;\r\n      border: none;\r\n      outline: none;\r\n    }\r\n  }\r\n  .btn {\r\n    padding: 0 1.111vw;\r\n  }\r\n}\r\n\r\n.content {\r\n  .history,\r\n  .hot {\r\n    border-bottom: 1px solid #888;\r\n    height: 55.556vw;\r\n    padding-top: 4.167vw;\r\n    font-size: 3.889vw;\r\n  }\r\n  .history {\r\n    .title {\r\n      margin-bottom: 2.778vw;\r\n    }\r\n  }\r\n  .hot {\r\n    .title {\r\n      margin-bottom: 2.778vw;\r\n    }\r\n  }\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/Search.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"search\"},[_c('span',{staticClass:\"iconfont iconjiantou2\",on:{\"click\":_vm.back}}),_vm._v(\" \"),_c('div',{staticClass:\"searchText\"},[_c('span',{staticClass:\"iconfont iconsearch\"}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.searchStr),expression:\"searchStr\"}],staticClass:\"searchInput\",attrs:{\"placeholder\":\"请输入搜索内容\",\"type\":\"text\"},domProps:{\"value\":(_vm.searchStr)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.searchStr=$event.target.value}}})]),_vm._v(\" \"),_c('div',{staticClass:\"btn\",on:{\"click\":_vm.search}},[_vm._v(\"搜索\")])]),_vm._v(\" \"),(_vm.resultList.length>0)?_c('div',_vm._l((_vm.resultList),function(post,index){return _c('post',{key:index,attrs:{\"post\":post}})}),1):_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"history\"},[_c('h3',{staticClass:\"title\"},[_vm._v(\"历史记录\")]),_vm._v(\" \"),_vm._l((_vm.historyList),function(item,index){return _c('span',{key:index,on:{\"click\":function($event){return _vm.searchByWord(item)}}},[_vm._v(_vm._s(item)+\" \")])})],2),_vm._v(\" \"),_c('div',{staticClass:\"hot\"},[_c('h3',{staticClass:\"title\"},[_vm._v(\"热门搜索\")]),_vm._v(\" \"),_vm._l((_vm.hotList),function(item,index){return _c('span',{key:index,on:{\"click\":function($event){return _vm.searchByWord(item)}}},[_vm._v(_vm._s(item)+\" \")])})],2)])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-463ee66c\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/Search.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-463ee66c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Search.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Search.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Search.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-463ee66c\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Search.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-463ee66c\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/Search.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}