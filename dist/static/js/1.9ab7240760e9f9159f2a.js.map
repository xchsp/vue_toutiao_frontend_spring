{"version":3,"sources":["webpack:///src/components/floorComment.vue","webpack:///./src/components/floorComment.vue?5743","webpack:///./src/components/floorComment.vue","webpack:///src/components/comment.vue","webpack:///./src/components/comment.vue?e088","webpack:///./src/components/comment.vue","webpack:///src/components/postDetailFooter.vue","webpack:///./src/components/postDetailFooter.vue?0aab","webpack:///./src/components/postDetailFooter.vue","webpack:///src/components/postDetailHead.vue","webpack:///./src/components/postDetailHead.vue?086d","webpack:///./src/components/postDetailHead.vue","webpack:///src/pages/PostDetail.vue","webpack:///./src/pages/PostDetail.vue?62d9","webpack:///./src/pages/PostDetail.vue"],"names":["components_floorComment","render","_vm","this","_h","$createElement","_c","_self","floorItem","attrs","parent","parentLength","on","reply","_e","_v","staticClass","_s","user","nickname","click","content","staticRenderFns","comment","props","components","floor","__webpack_require__","normalizeComponent","name","methods","data","id","$emit","ssrContext","countParent","commentItem","num","obj","components_comment","alt","src","comment_Component","comment_normalizeComponent","__webpack_exports__","postDetailFooter","isFocus","watch","isAcitve","console","log","send","_this","$axios","url","post","method","parent_id","commentId","then","res","showArea","_this2","$nextTick","$refs","commentArea","focus","handleBlur","star","_this3","message","has_star","components_postDetailFooter","placeholder","type","_m","class","red","directives","rawName","value","expression","ref","rows","domProps","blur","input","$event","target","composing","href","Component","postDetailHead","follow","has_follow","unfollow","components_postDetailHead","$router","back","src_components_postDetailHead","PostDetail","postId","$route","params","comments","replyActive","like","has_like","like_length","toMoreComments","push","getComments","pageSize","mounted","pages_PostDetail","title","poster","cover","controls","innerHTML","comment_length","_l","item","index","key","newComment","PostDetail_Component","PostDetail_normalizeComponent"],"mappings":"8IAsBA,ICnBeA,GADEC,OAFjB,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAAJ,EAAAM,UAAA,OAAAF,EAAA,SAAoDG,OAAOD,UAAAN,EAAAM,UAAAE,OAAAC,aAAAT,EAAAS,aAAA,GAAmEC,IAAKC,MAAAX,EAAAW,SAAmBX,EAAAY,KAAAZ,EAAAa,GAAA,KAAAT,EAAA,OAAiCU,YAAA,iBAA2BV,EAAA,OAAYU,YAAA,SAAmBV,EAAA,OAAYU,YAAA,SAAmBd,EAAAa,GAAA,aAAAb,EAAAe,GAAAf,EAAAS,cAAA,IAAAT,EAAAe,GAAAf,EAAAM,UAAAU,KAAAC,UAAA,cAAAb,EAAA,QAAgHU,YAAA,SAAmBd,EAAAa,GAAAb,EAAAe,GAAAf,EAAAS,cAAA,WAAAT,EAAAa,GAAA,KAAAT,EAAA,OAAmEU,YAAA,WAAAJ,IAA2BQ,MAAAlB,EAAAW,SAAmBX,EAAAa,GAAA,UAAAb,EAAAa,GAAA,KAAAT,EAAA,OAAyCU,YAAA,YAAsBd,EAAAa,GAAAb,EAAAe,GAAAf,EAAAM,UAAAa,eAAA,IAE3oBC,oBCCjB,ICsBAC,GACAC,OAAA,eACAC,YACAC,MDzByBC,EAAQ,OAcjCC,EFMAJ,OAAA,4BACAK,KAAA,QACAC,SACAjB,MADA,SACAkB,GAEAA,EAAAC,GACA7B,KAAA8B,MAAA,QAAAF,GAEA5B,KAAA8B,MAAA,SAEAD,GAAA7B,KAAAK,UAAAwB,QEdEhC,GATF,EAVA,SAAAkC,GACEP,EAAQ,SAaV,kBAEA,MAUgC,SCIhCI,KALA,WAMA,OACApB,aAAAR,KAAAgC,YAAA,EAAAhC,KAAAiC,eAGAN,SACAK,YADA,SACAE,EAAAC,GACA,OAAAA,EAAA5B,OACAP,KAAAgC,YAAAE,EAAA,EAAAC,EAAA5B,QAEA2B,GAGAxB,MARA,SAQAkB,GAEAA,EAAAC,GACA7B,KAAA8B,MAAA,QAAAF,GAEA5B,KAAA8B,MAAA,SAEAD,GAAA7B,KAAAiC,YAAAJ,QC/CeO,GADEtC,OAFP,WAAgB,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAAA,EAAA,OAA2BU,YAAA,kBAA4BV,EAAA,OAAYU,YAAA,SAAmBV,EAAA,OAAYU,YAAA,SAAAP,OAA4B+B,IAAA,GAAAC,IAAA,8BAA2CvC,EAAAa,GAAA,KAAAT,EAAA,OAAwBU,YAAA,SAAmBd,EAAAkC,YAAA,KAAA9B,EAAA,OAAmCU,YAAA,SAAmBd,EAAAa,GAAAb,EAAAe,GAAAf,EAAAkC,YAAAlB,KAAAC,aAAAjB,EAAAY,KAAAZ,EAAAa,GAAA,KAAAT,EAAA,QAAkFU,YAAA,SAAmBd,EAAAa,GAAA,YAAAb,EAAAa,GAAA,KAAAT,EAAA,OAA2CU,YAAA,WAAAJ,IAA2BQ,MAAAlB,EAAAW,SAAmBX,EAAAa,GAAA,UAAAb,EAAAa,GAAA,KAAAb,EAAAkC,YAAA,OAAA9B,EAAA,SAAoEG,OAAOD,UAAAN,EAAAkC,YAAA1B,OAAAC,aAAAT,EAAAS,cAAmEC,IAAKC,MAAAX,EAAAW,SAAmBX,EAAAY,KAAAZ,EAAAa,GAAA,KAAAT,EAAA,OAAiCU,YAAA,YAAsBd,EAAAa,GAAAb,EAAAe,GAAAf,EAAAkC,YAAAf,aAAA,MAE9tBC,oBCChC,IAcIoB,EAdqBf,EAAQ,OAcjBgB,CACdpB,EACAgB,GAT6B,EAV/B,SAAoBL,GAClBP,EAAQ,SAaS,kBAEU,MAUdiB,EAAA,EAAAF,EAAiB,gECHhC,IAAAG,GACArB,OAAA,+BACAO,KAFA,WAGA,OACAe,SAAA,EACAvB,QAAA,KAGAwB,OACAC,SADA,WAGA7C,KAAA2C,QAAA3C,KAAA6C,SACAC,QAAAC,IAAA/C,KAAA2C,WAGAhB,SACAqB,KADA,WACA,IAAAC,EAAAjD,KAEAA,KAAAkD,QACAC,IAAA,iBAAAnD,KAAAoD,KAAAvB,GACAwB,OAAA,OACAzB,MACAV,QAAAlB,KAAAoB,QACAkC,UAAAtD,KAAAuD,UAAAvD,KAAAuD,UAAA1B,GAAA,QAEA2B,KAAA,SAAAC,GACAX,QAAAC,IAAAU,EAAA7B,MAEAqB,EAAA7B,QAAA,GACA6B,EAAAN,SAAA,EAEAM,EAAAnB,MAAA,iBAGA4B,SAnBA,WAmBA,IAAAC,EAAA3D,KACAA,KAAA2C,SAAA,EAKA3C,KAAA4D,UAAA,WACAD,EAAAE,MAAAC,YAAAC,WAGAC,WA7BA,WA8BAhE,KAAAoB,UACApB,KAAA2C,SAAA,IAGAsB,KAlCA,WAkCA,IAAAC,EAAAlE,KACAA,KAAAkD,QACAC,IAAA,cAAAnD,KAAAoD,KAAAvB,GACAwB,OAAA,QACAG,KAAA,SAAAC,GACAX,QAAAC,IAAAU,GADA,IAEAU,EAAAV,EAAA7B,KAAAuC,QACA,QAAAA,EACAD,EAAAd,KAAAgB,UAAA,EACA,QAAAD,IACAD,EAAAd,KAAAgB,UAAA,GAEAtB,QAAAC,IAAAoB,QCjFeE,GADEvE,OAFjB,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBU,YAAA,WAAqBd,EAAA4C,QAA2Q5C,EAAAY,KAA3QR,EAAA,OAA2BU,YAAA,YAAsBV,EAAA,SAAcG,OAAOgE,YAAA,MAAAC,KAAA,QAAkC9D,IAAKsD,MAAAhE,EAAA2D,YAAsB3D,EAAAa,GAAA,KAAAb,EAAAyE,GAAA,GAAAzE,EAAAa,GAAA,KAAAT,EAAA,QAA+CU,YAAA,wBAAA4D,OAA2CC,IAAA3E,EAAAqD,KAAAgB,UAAuB3D,IAAKQ,MAAAlB,EAAAkE,QAAkBlE,EAAAa,GAAA,KAAAb,EAAAyE,GAAA,KAAAzE,EAAAa,GAAA,KAAAb,EAAA,QAAAI,EAAA,OAAuEU,YAAA,WAAqBV,EAAA,YAAiBwE,aAAajD,KAAA,QAAAkD,QAAA,UAAAC,MAAA9E,EAAA,QAAA+E,WAAA,YAAwEC,IAAA,cAAAzE,OAA2B0E,KAAA,KAAWC,UAAWJ,MAAA9E,EAAA,SAAsBU,IAAKyE,KAAAnF,EAAAiE,WAAAmB,MAAA,SAAAC,GAA+CA,EAAAC,OAAAC,YAAsCvF,EAAAqB,QAAAgE,EAAAC,OAAAR,WAAkC9E,EAAAa,GAAA,KAAAT,EAAA,QAAyBU,YAAA,OAAAJ,IAAuBQ,MAAAlB,EAAAiD,QAAkBjD,EAAAa,GAAA,UAAAb,EAAAY,QAEh0BQ,iBADjB,WAAoC,IAAalB,EAAbD,KAAaE,eAA0BC,EAAvCH,KAAuCI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBU,YAAA,YAAsBV,EAAA,QAAaU,YAAA,0BAAnHb,KAAuJY,GAAA,KAAAT,EAAA,OAAwBU,YAAA,kBAA/Kb,KAA2MY,GAAA,YAAoB,WAAc,IAAaX,EAAbD,KAAaE,eAA0BC,EAAvCH,KAAuCI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,KAAeG,OAAOiF,KAAA,+GAAoHpF,EAAA,QAAaU,YAAA,+BCEve,IAcA2E,EAdyBhE,EAAQ,OAcjCC,CACEiB,EACA2B,GATF,EAVA,SAAAtC,GACEP,EAAQ,SAaV,kBAEA,MAUeiB,EAAA,EAAA+C,EAAiB,4FCdhC,IAAAC,GACApE,OAAA,QACAM,SACA+D,OADA,WACA,IAAAzC,EAAAjD,KACAA,KAAAkD,QACAC,IAAA,iBAAAnD,KAAAoD,KAAArC,KAAAc,GACAwB,OAAA,QACAG,KAAA,SAAAC,GACAX,QAAAC,IAAAU,GAEA,QADAA,EAAA7B,KAAAuC,UAEAlB,EAAAG,KAAAuC,YAAA,MAIAC,SAbA,WAaA,IAAAjC,EAAA3D,KACAA,KAAAkD,QACAC,IAAA,kBAAAnD,KAAAoD,KAAArC,KAAAc,GACAwB,OAAA,QACAG,KAAA,SAAAC,GACAX,QAAAC,IAAAU,GAEA,UADAA,EAAA7B,KAAAuC,UAEAR,EAAAP,KAAAuC,YAAA,QChCeE,GADE/F,OAFjB,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBU,YAAA,SAAmBV,EAAA,OAAYU,YAAA,OAAAJ,IAAuBQ,MAAA,SAAAmE,GAAyB,OAAArF,EAAA+F,QAAAC,WAA4B5F,EAAA,QAAaU,YAAA,0BAAoCd,EAAAa,GAAA,KAAAT,EAAA,QAAyBU,YAAA,uBAA+Bd,EAAAa,GAAA,KAAAb,EAAAqD,KAAAuC,WAA+F5F,EAAAY,KAA/FR,EAAA,QAAkDU,YAAA,SAAAJ,IAAyBQ,MAAAlB,EAAA2F,UAAoB3F,EAAAa,GAAA,QAAAb,EAAAa,GAAA,KAAAb,EAAAqD,KAAA,WAAAjD,EAAA,QAAuEU,YAAA,WAAAJ,IAA2BQ,MAAAlB,EAAA6F,YAAsB7F,EAAAa,GAAA,SAAAb,EAAAY,QAEpgBQ,oBCCjB,IAuBe6E,EAvBUxE,EAAQ,OAcjCC,CACEgE,EACAI,GATF,EAVA,SAAA9D,GACEP,EAAQ,SAaV,kBAEA,MAUgC,gCC+BhCyE,GACA3E,YACAmE,eAAAO,EACAtD,mBAAA,EACAtB,UAAA,GAEAQ,KANA,WAOA,OACAsE,OAAAlG,KAAAmG,OAAAC,OAAAvE,GACAuB,QACAiD,YACAC,YAAA,EACA/C,eAGA5B,SACAjB,MADA,SACA6C,GAEAvD,KAAAuD,YACAvD,KAAAsG,aAAA,GAEAC,KANA,WAMA,IAAAtD,EAAAjD,KACAA,KAAAkD,QACAC,IAAA,cAAAnD,KAAAoD,KAAAvB,GACAwB,OAAA,QACAG,KAAA,SAAAC,GAAA,IACAU,EAAAV,EAAA7B,KAAAuC,QACA,QAAAA,GACAlB,EAAAG,KAAAoD,UAAA,EACAvD,EAAAG,KAAAqD,aAAA,GACA,QAAAtC,IACAlB,EAAAG,KAAAoD,UAAA,EACAvD,EAAAG,KAAAqD,aAAA,GAEA3D,QAAAC,IAAAoB,MAGAuC,eAtBA,WAuBA1G,KAAA8F,QAAAa,MACAjF,KAAA,mBACA0E,QACAvE,GAAA7B,KAAAkG,WAIAU,YA9BA,WA8BA,IAAAjD,EAAA3D,KACAA,KAAAkD,QACAC,IAAA,iBAAAnD,KAAAkG,OACAE,QACAS,SAAA,GAEAxD,OAAA,QACAG,KAAA,SAAAC,GAAA,IACA7B,EAAA6B,EAAA7B,UACAkB,QAAAC,IAAAnB,GACA+B,EAAA0C,SAAAzE,MAIAkF,QA3DA,WA2DA,IAAA5C,EAAAlE,KACAA,KAAAkD,QACAC,IAAA,SAAAnD,KAAAkG,OACA7C,OAAA,QACAG,KAAA,SAAAC,GAAA,IACA7B,EAAA6B,EAAA7B,UACAsC,EAAAd,KAAAxB,IAEA5B,KAAA4G,gBCzHeG,GADEjH,OAFP,WAAgB,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAAA,EAAA,kBAAsCG,OAAO8C,KAAArD,EAAAqD,QAAiBrD,EAAAa,GAAA,KAAAT,EAAA,OAAwBU,YAAA,gBAA0BV,EAAA,OAAYU,YAAA,UAAoBd,EAAAa,GAAAb,EAAAe,GAAAf,EAAAqD,KAAA4D,UAAAjH,EAAAa,GAAA,QAAAb,EAAAqD,KAAAmB,KAAApE,EAAA,SAA8EU,YAAA,QAAAP,OAA2B2G,OAAAlH,EAAAqD,KAAA8D,MAAA,GAAA/D,IAAAgE,SAAA,WAAA7E,IAAA,4FAAqJvC,EAAAY,KAAAZ,EAAAa,GAAA,KAAAb,EAAAqD,KAAA,KAAAjD,EAAA,OAAiDU,YAAA,SAAmBd,EAAAa,GAAAb,EAAAe,GAAAf,EAAAqD,KAAArC,KAAAC,UAAA,iBAAAjB,EAAAY,KAAAZ,EAAAa,GAAA,QAAAb,EAAAqD,KAAAmB,KAAApE,EAAA,OAA2GU,YAAA,UAAAoE,UAAgCmC,UAAArH,EAAAe,GAAAf,EAAAqD,KAAAlC,YAAsCnB,EAAAY,KAAAZ,EAAAa,GAAA,KAAAT,EAAA,OAAiCU,YAAA,cAAwBV,EAAA,OAAYU,YAAA,SAAmBV,EAAA,QAAaU,YAAA,uBAAA4D,OAA0CC,IAAA3E,EAAAqD,KAAAoD,UAAuB/F,IAAKQ,MAAAlB,EAAAwG,QAAkBxG,EAAAa,GAAA,aAAAb,EAAAe,GAAAf,EAAAqD,KAAAqD,aAAA,cAAA1G,EAAAa,GAAA,KAAAb,EAAAyE,GAAA,KAAAzE,EAAAa,GAAA,KAAAT,EAAA,OAA+GU,YAAA,gBAA0BV,EAAA,MAAWU,YAAA,UAAoBd,EAAAa,GAAA,UAAAb,EAAAa,GAAA,QAAAb,EAAAqD,KAAAiE,eAAAlH,EAAA,OAAAA,EAAA,OAAAJ,EAAAa,GAAA,iBAAAb,EAAAuH,GAAAvH,EAAA,kBAAAwH,EAAAC,GAAmJ,OAAArH,EAAA,WAAqBsH,IAAAD,EAAAlH,OAAiB2B,YAAAsF,GAAmB9G,IAAKC,MAAAX,EAAAW,WAAqBX,EAAAa,GAAA,KAAAT,EAAA,OAAwBU,YAAA,SAAmBV,EAAA,OAAYU,YAAA,cAAAJ,IAA8BQ,MAAAlB,EAAA2G,kBAA4B3G,EAAAa,GAAA,kBAAAb,EAAAa,GAAA,KAAAT,EAAA,oBAA8DG,OAAOiD,UAAAxD,EAAAwD,UAAAV,SAAA9C,EAAAuG,YAAAlD,KAAArD,EAAAqD,MAAqE3C,IAAKiH,WAAA3H,EAAA6G,gBAA8B,IAEriDzF,iBADb,WAAiB,IAAalB,EAAbD,KAAaE,eAA0BC,EAAvCH,KAAuCI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBU,YAAA,YAAsBV,EAAA,QAAaU,YAAA,wBAAnHb,KAAqJY,GAAA,KAAAT,EAAA,KAAsBG,OAAOiF,KAAA,+GAAlLvF,KAAsSY,GAAA,aCE1U,IAcI+G,EAdqBnG,EAAQ,OAcjBoG,CACd3B,EACAc,GAT6B,EAV/B,SAAoBhF,GAClBP,EAAQ,SAaS,kBAEU,MAUdiB,EAAA,QAAAkF,EAAiB","file":"static/js/1.9ab7240760e9f9159f2a.js","sourcesContent":["<template>\r\n  <div>\r\n    <floor\r\n      :floorItem=\"floorItem.parent\"\r\n      :parentLength=\"parentLength-1\"\r\n      @reply=\"reply\"\r\n      v-if=\"floorItem.parent\"\r\n    ></floor>\r\n    <div class=\"floorWrapper\">\r\n      <div class=\"meta\">\r\n        <div class=\"info\">\r\n          {{parentLength}} {{floorItem.user.nickname}}\r\n          <span class=\"time\">{{parentLength}}小时前</span>\r\n        </div>\r\n        <div @click=\"reply\" class=\"btnApply\">回复</div>\r\n      </div>\r\n      <div class=\"content\">{{floorItem.content}}</div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: ['floorItem', 'parentLength'],\r\n  name: 'floor',\r\n  methods: {\r\n    reply(data) {\r\n      // 判断是递归层传递还是自身传递\r\n      if (data.id) {\r\n        this.$emit('reply', data)\r\n      } else {\r\n        this.$emit('reply', {\r\n          // 把评论回复id传到父组件,由于递归自调用此时父组件还是floorComment组件\r\n          id: this.floorItem.id\r\n        })\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.floorWrapper {\r\n  border: 1px solid #eee;\r\n  background-color: #f3f3f3;\r\n  padding: 2.778vw;\r\n}\r\n.meta {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  .info {\r\n    font-size: 12px;\r\n    color: #888;\r\n  }\r\n  .btnApply {\r\n    font-size: 12px;\r\n    color: #888;\r\n  }\r\n}\r\n.content {\r\n  margin-top: 2.778vw;\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/floorComment.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.floorItem.parent)?_c('floor',{attrs:{\"floorItem\":_vm.floorItem.parent,\"parentLength\":_vm.parentLength-1},on:{\"reply\":_vm.reply}}):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"floorWrapper\"},[_c('div',{staticClass:\"meta\"},[_c('div',{staticClass:\"info\"},[_vm._v(\"\\n        \"+_vm._s(_vm.parentLength)+\" \"+_vm._s(_vm.floorItem.user.nickname)+\"\\n        \"),_c('span',{staticClass:\"time\"},[_vm._v(_vm._s(_vm.parentLength)+\"小时前\")])]),_vm._v(\" \"),_c('div',{staticClass:\"btnApply\",on:{\"click\":_vm.reply}},[_vm._v(\"回复\")])]),_vm._v(\" \"),_c('div',{staticClass:\"content\"},[_vm._v(_vm._s(_vm.floorItem.content))])])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-9eff188a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/floorComment.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-9eff188a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./floorComment.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./floorComment.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./floorComment.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-9eff188a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./floorComment.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-9eff188a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/floorComment.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div>\r\n    <div class=\"commentWraper\">\r\n      <div class=\"meta\">\r\n        <img alt class=\"avatar\" src=\"/static/imgs/default.png\" />\r\n        <div class=\"info\">\r\n          <div class=\"name\" v-if=\"commentItem.user\">{{commentItem.user.nickname}}</div>\r\n          <span class=\"time\">2小时前</span>\r\n        </div>\r\n        <div @click=\"reply\" class=\"btnApply\">回复</div>\r\n      </div>\r\n      <!-- 楼层回复 -->\r\n      <floor\r\n        :floorItem=\"commentItem.parent\"\r\n        :parentLength=\"parentLength\"\r\n        @reply=\"reply\"\r\n        v-if=\"commentItem.parent\"\r\n      />\r\n      <div class=\"content\">{{commentItem.content}}</div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport floor from '@/components/floorComment'\r\nexport default {\r\n  props: ['commentItem'],\r\n  components: {\r\n    floor\r\n  },\r\n  data() {\r\n    return {\r\n      parentLength: this.countParent(0, this.commentItem)\r\n    }\r\n  },\r\n  methods: {\r\n    countParent(num, obj) {\r\n      if (obj.parent) {\r\n        return this.countParent(num + 1, obj.parent)\r\n      } else {\r\n        return num\r\n      }\r\n    },\r\n    reply(data) {\r\n      // 判断是递归层传递还是自身传递\r\n      if (data.id) {\r\n        this.$emit('reply', data)\r\n      } else {\r\n        this.$emit('reply', {\r\n          // 把评论回复id传到父组件\r\n          id: this.commentItem.id\r\n        })\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.commentWraper {\r\n  padding: 2.778vw;\r\n  border-bottom: 1px solid #eee;\r\n  .meta {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: flex-start;\r\n    margin-bottom: 10px;\r\n    .avatar {\r\n      width: 9.722vw;\r\n      height: 9.722vw;\r\n      border-radius: 50%;\r\n      object-fit: cover;\r\n    }\r\n    .info {\r\n      flex: 1;\r\n      padding-left: 2.778vw;\r\n      .time {\r\n        font-size: 14px;\r\n        color: #888;\r\n      }\r\n    }\r\n    .btnApply {\r\n      font-size: 14px;\r\n      color: #888;\r\n    }\r\n    .avatar {\r\n      width: 13.889vw;\r\n      height: 13.889vw;\r\n      border-radius: 50%;\r\n      object-fit: cover;\r\n    }\r\n  }\r\n  .content {\r\n    margin-top: 5.556vw;\r\n  }\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/comment.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"commentWraper\"},[_c('div',{staticClass:\"meta\"},[_c('img',{staticClass:\"avatar\",attrs:{\"alt\":\"\",\"src\":\"/static/imgs/default.png\"}}),_vm._v(\" \"),_c('div',{staticClass:\"info\"},[(_vm.commentItem.user)?_c('div',{staticClass:\"name\"},[_vm._v(_vm._s(_vm.commentItem.user.nickname))]):_vm._e(),_vm._v(\" \"),_c('span',{staticClass:\"time\"},[_vm._v(\"2小时前\")])]),_vm._v(\" \"),_c('div',{staticClass:\"btnApply\",on:{\"click\":_vm.reply}},[_vm._v(\"回复\")])]),_vm._v(\" \"),(_vm.commentItem.parent)?_c('floor',{attrs:{\"floorItem\":_vm.commentItem.parent,\"parentLength\":_vm.parentLength},on:{\"reply\":_vm.reply}}):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"content\"},[_vm._v(_vm._s(_vm.commentItem.content))])],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4d260aaf\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/comment.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4d260aaf\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./comment.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./comment.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./comment.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4d260aaf\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./comment.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-4d260aaf\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/comment.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"footer\">\r\n    <div class=\"disable\" v-if=\"!isFocus\">\r\n      <input @focus=\"showArea\" placeholder=\"写跟帖\" type=\"text\" />\r\n      <div class=\"comment\">\r\n        <span class=\"iconfont iconpinglun-\"></span>\r\n        <div class=\"commentNumber\">102</div>\r\n      </div>\r\n      <span :class=\"{red: post.has_star}\" @click=\"star\" class=\"iconfont iconshoucang\"></span>\r\n      <a\r\n        href=\"https://developers.weixin.qq.com/doc/offiaccount/Getting_Started/Explanation_of_interface_privileges.html\"\r\n      >\r\n        <span class=\"iconfont iconfenxiang\"></span>\r\n      </a>\r\n    </div>\r\n    <div class=\"enable\" v-if=\"isFocus\">\r\n      <textarea @blur=\"handleBlur\" ref=\"commentArea\" rows=\"3\" v-model=\"comment\"></textarea>\r\n      <span @click=\"send\" class=\"send\">发送</span>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: ['post', 'isAcitve', 'commentId'],\r\n  data() {\r\n    return {\r\n      isFocus: false,\r\n      comment: ''\r\n    }\r\n  },\r\n  watch: {\r\n    isAcitve() {\r\n      // 监听父组件postDetail传过来的变量控制评论区的显示\r\n      this.isFocus = this.isAcitve\r\n      console.log(this.isFocus)\r\n    }\r\n  },\r\n  methods: {\r\n    send() {\r\n      // 发布评论ajax请求需要文章id,评论内容,回复id三个参数\r\n      this.$axios({\r\n        url: '/post_comment/' + this.post.id,\r\n        method: 'POST',\r\n        data: {\r\n          content: this.comment,\r\n          parent_id: this.commentId ? this.commentId.id : null\r\n        }\r\n      }).then(res => {\r\n        console.log(res.data)\r\n        // 发布评论成功应该清空输入框并且缩小输入框\r\n        this.comment = ''\r\n        this.isFocus = false\r\n        // 向父组件触发事件更新页面数据\r\n        this.$emit('newComment')\r\n      })\r\n    },\r\n    showArea() {\r\n      this.isFocus = true\r\n      // vue 是会等你的剩余代码执行完了才更新页面\r\n      // 所以你现在是获取不到这个 被 v-if 抹去的 dom元素 div.enable 的\r\n      // 有一个函数可以设置一个异步回调,告诉 vue 等待我们下一次渲染完毕的时候\r\n      // 再执行回调函数\r\n      this.$nextTick(() => {\r\n        this.$refs.commentArea.focus()\r\n      })\r\n    },\r\n    handleBlur() {\r\n      if (!this.comment) {\r\n        this.isFocus = false\r\n      }\r\n    },\r\n    star() {\r\n      this.$axios({\r\n        url: '/post_star/' + this.post.id,\r\n        method: 'GET'\r\n      }).then(res => {\r\n        console.log(res)\r\n        const { message } = res.data\r\n        if (message == '收藏成功') {\r\n          this.post.has_star = true\r\n        } else if (message == '取消成功') {\r\n          this.post.has_star = false\r\n        }\r\n        console.log(message)\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.footer {\r\n  position: fixed;\r\n  left: 0;\r\n  bottom: 0;\r\n  width: 100%;\r\n  .disable {\r\n    display: flex;\r\n    justify-content: space-around;\r\n    align-items: center;\r\n    padding: 2.778vw 2.778vw 2.778vw 0;\r\n    .iconfont {\r\n      font-size: 6.389vw;\r\n    }\r\n    input {\r\n      height: 8.611vw;\r\n      line-height: 8.611vw;\r\n      font-size: 3.889vw;\r\n      border: none;\r\n      outline: none;\r\n      border-radius: 4.444vw;\r\n      padding: 0 4.444vw;\r\n      background-color: #d7d7d7;\r\n      color: #848484;\r\n    }\r\n    .comment {\r\n      position: relative;\r\n      .commentNumber {\r\n        position: absolute;\r\n        left: 0.556vw;\r\n        top: -2.222vw;\r\n        height: 4.444vw;\r\n        line-height: 4.444vw;\r\n        box-sizing: border-box;\r\n        font-size: 3.333vw;\r\n        color: #fff;\r\n        background: #f00;\r\n        border-radius: 2.222vw;\r\n        padding: 0 2.222vw;\r\n      }\r\n    }\r\n  }\r\n  .enable {\r\n    display: flex;\r\n    justify-content: space-around;\r\n    align-items: flex-end;\r\n    padding: 2.778vw 2.778vw 2.778vw 0;\r\n    textarea {\r\n      width: 75vw;\r\n      padding: 4.444vw 0;\r\n      box-sizing: border-box;\r\n      border: none;\r\n      outline: none;\r\n      border-radius: 2.222vw;\r\n      color: #666;\r\n      background-color: #d7d7d7;\r\n      resize: none;\r\n    }\r\n    .send {\r\n      padding: 0 4.167vw;\r\n      height: 7.222vw;\r\n      line-height: 7.222vw;\r\n      text-align: center;\r\n      background-color: #f00;\r\n      color: #fff;\r\n      border-radius: 4.444vw;\r\n      border: 1px solid #f00;\r\n      font-size: 14px;\r\n    }\r\n  }\r\n  .red {\r\n    color: #f00;\r\n  }\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/postDetailFooter.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"footer\"},[(!_vm.isFocus)?_c('div',{staticClass:\"disable\"},[_c('input',{attrs:{\"placeholder\":\"写跟帖\",\"type\":\"text\"},on:{\"focus\":_vm.showArea}}),_vm._v(\" \"),_vm._m(0),_vm._v(\" \"),_c('span',{staticClass:\"iconfont iconshoucang\",class:{red: _vm.post.has_star},on:{\"click\":_vm.star}}),_vm._v(\" \"),_vm._m(1)]):_vm._e(),_vm._v(\" \"),(_vm.isFocus)?_c('div',{staticClass:\"enable\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.comment),expression:\"comment\"}],ref:\"commentArea\",attrs:{\"rows\":\"3\"},domProps:{\"value\":(_vm.comment)},on:{\"blur\":_vm.handleBlur,\"input\":function($event){if($event.target.composing){ return; }_vm.comment=$event.target.value}}}),_vm._v(\" \"),_c('span',{staticClass:\"send\",on:{\"click\":_vm.send}},[_vm._v(\"发送\")])]):_vm._e()])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"comment\"},[_c('span',{staticClass:\"iconfont iconpinglun-\"}),_vm._v(\" \"),_c('div',{staticClass:\"commentNumber\"},[_vm._v(\"102\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('a',{attrs:{\"href\":\"https://developers.weixin.qq.com/doc/offiaccount/Getting_Started/Explanation_of_interface_privileges.html\"}},[_c('span',{staticClass:\"iconfont iconfenxiang\"})])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-8b1f0f64\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/postDetailFooter.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-8b1f0f64\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./postDetailFooter.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./postDetailFooter.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./postDetailFooter.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-8b1f0f64\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./postDetailFooter.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-8b1f0f64\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/postDetailFooter.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"head\">\r\n    <div @click=\"$router.back()\" class=\"left\">\r\n      <span class=\"iconfont iconjiantou2\"></span>\r\n      <span class=\"iconfont iconnew\"></span>\r\n    </div>\r\n    <span @click=\"follow\" class=\"follow\" v-if=\"!post.has_follow\">关注</span>\r\n    <span @click=\"unfollow\" class=\"alfollow\" v-if=\"post.has_follow\">已关注</span>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: ['post'],\r\n  methods: {\r\n    follow() {\r\n      this.$axios({\r\n        url: '/user_follows/' + this.post.user.id,\r\n        method: 'GET'\r\n      }).then(res => {\r\n        console.log(res)\r\n        const { message } = res.data\r\n        if (message == '关注成功') {\r\n          this.post.has_follow = true\r\n        }\r\n      })\r\n    },\r\n    unfollow() {\r\n      this.$axios({\r\n        url: '/user_unfollow/' + this.post.user.id,\r\n        method: 'GET'\r\n      }).then(res => {\r\n        console.log(res)\r\n        const { message } = res.data\r\n        if (message == '取消关注成功') {\r\n          this.post.has_follow = false\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.head {\r\n  padding: 0 2.778vw;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  .left {\r\n    display: flex;\r\n    align-items: center;\r\n    .iconjiantou2 {\r\n      font-size: 15px;\r\n    }\r\n    .iconnew {\r\n      font-size: 54px;\r\n    }\r\n  }\r\n  .follow {\r\n    width: 16.111vw;\r\n    height: 2.222vw;\r\n    padding: 2.222vw 1.111vw;\r\n    line-height: 2.222vw;\r\n    text-align: center;\r\n    font-size: 12px;\r\n    background-color: #f00;\r\n    color: #fff;\r\n    border-radius: 4.444vw;\r\n  }\r\n  .alfollow {\r\n    width: 16.111vw;\r\n    height: 2.222vw;\r\n    padding: 2.222vw 1.111vw;\r\n    line-height: 2.222vw;\r\n    text-align: center;\r\n    font-size: 12px;\r\n    background-color: #eee;\r\n    color: #888;\r\n    border-radius: 4.444vw;\r\n  }\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/postDetailHead.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"head\"},[_c('div',{staticClass:\"left\",on:{\"click\":function($event){return _vm.$router.back()}}},[_c('span',{staticClass:\"iconfont iconjiantou2\"}),_vm._v(\" \"),_c('span',{staticClass:\"iconfont iconnew\"})]),_vm._v(\" \"),(!_vm.post.has_follow)?_c('span',{staticClass:\"follow\",on:{\"click\":_vm.follow}},[_vm._v(\"关注\")]):_vm._e(),_vm._v(\" \"),(_vm.post.has_follow)?_c('span',{staticClass:\"alfollow\",on:{\"click\":_vm.unfollow}},[_vm._v(\"已关注\")]):_vm._e()])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5861bc2e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/postDetailHead.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5861bc2e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./postDetailHead.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./postDetailHead.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./postDetailHead.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5861bc2e\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./postDetailHead.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-5861bc2e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/postDetailHead.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div>\r\n    <postDetailHead :post=\"post\" />\r\n    <div class=\"mainContent\">\r\n      <div class=\"title\">{{post.title}}</div>\r\n      <video\r\n        :poster=\"post.cover[0].url\"\r\n        class=\"video\"\r\n        controls=\"controls\"\r\n        src=\"https://video.pearvideo.com/mp4/adshort/20191031/cont-1618052-14544566_adpkg-ad_sd.mp4\"\r\n        v-if=\"post.type==2\"\r\n      ></video>\r\n      <div class=\"info\" v-if=\"post.user\">{{post.user.nickname}} 2019-10-31</div>\r\n      <div class=\"content\" v-html=\"post.content\" v-if=\"post.type!=2\"></div>\r\n      <div class=\"actionBtn\">\r\n        <div class=\"like\">\r\n          <span :class=\"{red: post.has_like}\" @click=\"like\" class=\"iconfont icondianzan\"></span>\r\n          {{post.like_length}}\r\n        </div>\r\n        <div class=\"webchat\">\r\n          <span class=\"iconfont iconweixin\"></span>\r\n          <a\r\n            href=\"https://developers.weixin.qq.com/doc/offiaccount/Getting_Started/Explanation_of_interface_privileges.html\"\r\n          >微信</a>\r\n        </div>\r\n      </div>\r\n      <div class=\"commentList\">\r\n        <h2 class=\"title\">精彩跟帖</h2>\r\n        <div v-if=\"post.comment_length==0\">\r\n          <div>暂无跟帖,抢占沙发</div>\r\n        </div>\r\n        <comment\r\n          :commentItem=\"item\"\r\n          :key=\"index\"\r\n          @reply=\"reply\"\r\n          v-else\r\n          v-for=\"(item,index) in comments\"\r\n        />\r\n        <div class=\"more\">\r\n          <div @click=\"toMoreComments\" class=\"moreComment\">更多跟帖</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <postDetailFooter\r\n      :commentId=\"commentId\"\r\n      :isAcitve=\"replyActive\"\r\n      :post=\"post\"\r\n      @newComment=\"getComments\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport postDetailHead from '@/components/postDetailHead'\r\nimport postDetailFooter from '@/components/postDetailFooter'\r\nimport comment from '@/components/comment'\r\n\r\nexport default {\r\n  components: {\r\n    postDetailHead,\r\n    postDetailFooter,\r\n    comment\r\n  },\r\n  data() {\r\n    return {\r\n      postId: this.$route.params.id,\r\n      post: {},\r\n      comments: [],\r\n      replyActive: 0,\r\n      commentId: {}\r\n    }\r\n  },\r\n  methods: {\r\n    reply(commentId) {\r\n      // 这是点击回复的id\r\n      this.commentId = commentId\r\n      this.replyActive += 1\r\n    },\r\n    like() {\r\n      this.$axios({\r\n        url: '/post_like/' + this.post.id,\r\n        method: 'get'\r\n      }).then(res => {\r\n        const { message } = res.data\r\n        if (message == '点赞成功') {\r\n          this.post.has_like = true\r\n          this.post.like_length += 1\r\n        } else if (message == '取消成功') {\r\n          this.post.has_like = false\r\n          this.post.like_length -= 1\r\n        }\r\n        console.log(message)\r\n      })\r\n    },\r\n    toMoreComments() {\r\n      this.$router.push({\r\n        name: 'moreCommentsPage',\r\n        params: {\r\n          id: this.postId\r\n        }\r\n      })\r\n    },\r\n    getComments() {\r\n      this.$axios({\r\n        url: '/post_comment/' + this.postId,\r\n        params: {\r\n          pageSize: 3\r\n        },\r\n        method: 'get'\r\n      }).then(res => {\r\n        const { data } = res.data\r\n        console.log(data)\r\n        this.comments = data\r\n      })\r\n    }\r\n  },\r\n  mounted() {\r\n    this.$axios({\r\n      url: '/post/' + this.postId,\r\n      method: 'get'\r\n    }).then(res => {\r\n      const { data } = res.data\r\n      this.post = data\r\n    }),\r\n      this.getComments()\r\n  }\r\n}\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.mainContent {\r\n  padding-bottom: 22.222vw;\r\n  padding-left: 10px;\r\n  padding-right: 10px;\r\n  .info {\r\n    margin: 2.778vw 0;\r\n  }\r\n  .content {\r\n    width: 104.167vw;\r\n    /deep/ img {\r\n      width: 100%;\r\n      height: 55.556vw;\r\n      object-fit: cover;\r\n    }\r\n  }\r\n  .video {\r\n    width: 100%;\r\n    margin: 2.778vw 0;\r\n  }\r\n  .actionBtn {\r\n    padding: 8.333vw 0;\r\n    display: flex;\r\n    justify-content: space-around;\r\n    border-bottom: 1.389vw solid #e4e4e4;\r\n    color: #333;\r\n    .like {\r\n      padding: 1.667vw 4.889vw;\r\n      text-align: center;\r\n      background-color: #ddd;\r\n      border-radius: 3.889vw;\r\n      font-size: 14px;\r\n    }\r\n    .webchat {\r\n      padding: 1.667vw 3.333vw;\r\n      text-align: center;\r\n      background-color: #ddd;\r\n      border-radius: 3.889vw;\r\n      font-size: 14px;\r\n      .iconweixin {\r\n        color: #00c800;\r\n      }\r\n    }\r\n  }\r\n  .commentList {\r\n    padding: 20px 0;\r\n    .title {\r\n      text-align: center;\r\n      font-weight: normal;\r\n      color: #666;\r\n      font-size: 20px;\r\n    }\r\n  }\r\n  .more {\r\n    padding-top: 30px;\r\n    text-align: center;\r\n    .moreComment {\r\n      width: 80px;\r\n      padding: 4px 14px;\r\n      margin: 0 auto;\r\n      border-radius: 14px;\r\n      font-size: 14px;\r\n      border: 1px solid #888;\r\n      color: #666;\r\n      background-color: #eee;\r\n    }\r\n  }\r\n}\r\n.red {\r\n  color: #f00;\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/PostDetail.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('postDetailHead',{attrs:{\"post\":_vm.post}}),_vm._v(\" \"),_c('div',{staticClass:\"mainContent\"},[_c('div',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.post.title))]),_vm._v(\" \"),(_vm.post.type==2)?_c('video',{staticClass:\"video\",attrs:{\"poster\":_vm.post.cover[0].url,\"controls\":\"controls\",\"src\":\"https://video.pearvideo.com/mp4/adshort/20191031/cont-1618052-14544566_adpkg-ad_sd.mp4\"}}):_vm._e(),_vm._v(\" \"),(_vm.post.user)?_c('div',{staticClass:\"info\"},[_vm._v(_vm._s(_vm.post.user.nickname)+\" 2019-10-31\")]):_vm._e(),_vm._v(\" \"),(_vm.post.type!=2)?_c('div',{staticClass:\"content\",domProps:{\"innerHTML\":_vm._s(_vm.post.content)}}):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"actionBtn\"},[_c('div',{staticClass:\"like\"},[_c('span',{staticClass:\"iconfont icondianzan\",class:{red: _vm.post.has_like},on:{\"click\":_vm.like}}),_vm._v(\"\\n        \"+_vm._s(_vm.post.like_length)+\"\\n      \")]),_vm._v(\" \"),_vm._m(0)]),_vm._v(\" \"),_c('div',{staticClass:\"commentList\"},[_c('h2',{staticClass:\"title\"},[_vm._v(\"精彩跟帖\")]),_vm._v(\" \"),(_vm.post.comment_length==0)?_c('div',[_c('div',[_vm._v(\"暂无跟帖,抢占沙发\")])]):_vm._l((_vm.comments),function(item,index){return _c('comment',{key:index,attrs:{\"commentItem\":item},on:{\"reply\":_vm.reply}})}),_vm._v(\" \"),_c('div',{staticClass:\"more\"},[_c('div',{staticClass:\"moreComment\",on:{\"click\":_vm.toMoreComments}},[_vm._v(\"更多跟帖\")])])],2)]),_vm._v(\" \"),_c('postDetailFooter',{attrs:{\"commentId\":_vm.commentId,\"isAcitve\":_vm.replyActive,\"post\":_vm.post},on:{\"newComment\":_vm.getComments}})],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"webchat\"},[_c('span',{staticClass:\"iconfont iconweixin\"}),_vm._v(\" \"),_c('a',{attrs:{\"href\":\"https://developers.weixin.qq.com/doc/offiaccount/Getting_Started/Explanation_of_interface_privileges.html\"}},[_vm._v(\"微信\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-9aea9b72\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/PostDetail.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-9aea9b72\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./PostDetail.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./PostDetail.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./PostDetail.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-9aea9b72\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./PostDetail.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-9aea9b72\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/PostDetail.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}